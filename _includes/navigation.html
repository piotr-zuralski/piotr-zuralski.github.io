{%- assign menu_name = include.menu -%}
<!-- navigation.html menu: {{ menu_name }} -->
{%- assign menu = site.data.navigation[menu_name] -%}
{%- if menu -%}
  {%- assign heading = include.heading | default: 'h2' -%}

  {%- if menu.list_title and include.display_menu_name == true -%}
    <{{- heading -}}>{{ menu.list_title }}</{{- heading -}}>
  {%- endif -%}

  {%- if menu.items -%}
    <nav>
      <ul {% if include.list_class %}class="{{- include.list_class -}}"{% endif %}>
          {% for item in menu.items %}
          {%- assign li_attrs = [] -%}
          {%- assign a_attrs = [] -%}
          {%- if item.url == page.url -%}
            {% assign class = li_attrs[class] | push: 'active' %}
          {%- endif -%}
          <!--  
          li_attrs: "{{ li_attrs }}",
          {{ li_attrs | join: "= " }}
          -->
          <li class="{% if item.url == page.url %}active{% endif %}">
              <a href="{{ item.url }}#ref={{- menu_name -}}" title="{{ item.title }}">{{ item.title }}</a>
              {%- if item.item -%}
                {% include navigation-subnavigation.html menu='{{ item.items }}' %}
              {% endif %}
          </li>
          {% endfor %}
      </ul>
    </nav>
  {%- endif -%}
{%- endif -%}
<!-- /navigation.html menu: {{ menu_name }} -->